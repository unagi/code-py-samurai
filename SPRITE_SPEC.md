# PySamurai — スプライト発注仕様書（完全版）

> **改訂履歴**
> - 初版: キャラクター・タイル・エフェクト仕様策定
> - 改訂: フレームサイズを 48px → **80px** に変更（ウォーターマーク対策）
> - **現行版: 全アセット再制作対象。過去納品物は本仕様に合わせて作り直すこと**

---

## 世界観・テーマ

- **プレイヤー**: サムライ猫（和風×ファンタジー）
- **敵・登場キャラ**: 日本童話・民話の動物キャラクター
- **雰囲気**: 和風・コミカル寄り・子供〜大人まで楽しめる

---

## ★ スタイルガイド（最重要）

### キャラクター別スタイル方針

| キャラ | スタイル |
|--------|---------|
| **サムライ猫**（プレイヤー）| ちびキャラ（2.5頭身）・デフォルメ・茶系輪郭線 |
| **敵キャラ全般** | リアル寄りの動物体型。黒輪郭線・テクスチャ感あり。ガマに準拠。ただしキャラごとに怖さ/かわいさのバランスは調整可 |
| **ツル**（Captive/救出対象）| 敵より可愛め・親しみやすいデザイン |
| **クマ**（Golem/味方）| 親しみやすく、どっしりした体格 |

> 主人公=ちびキャラ、敵=リアル寄りの対比を活かす。混在は意図的。

---

### サムライ猫（プレイヤー）の造形基準

#### キャラクター造形
- **頭身**: 約2.5頭身。頭が大きく体が短い
- **体型**: 丸みを帯びたシルエット。全体的にふっくら
- **顔**: 目が丸くシンプル。鼻は省略。口は小さな線
- **耳**: しっかり立てて描く。内耳ピンクあり
- **しっぽ**: 太めでふわっとした形
- **手足**: 短く丸い。肉球あり

#### 線・塗り
- **輪郭線**: ダークブラウン系の太線（純黒ではない）
- **塗り**: アニメ塗り。影は1段階のみ
- **線の強弱**: 主線は太め、内部線は細め

#### 配色
- **毛色**: 白ベース＋オレンジ＋茶（三毛猫）
- **着物**: 緑地に麻の葉柄
- **袴**: 茶色
- **刀の鞘**: 赤

---

### 敵キャラ（ガマ）の造形基準

#### 線・塗り
- **輪郭線**: 黒系の太線
- **塗り**: テクスチャ感あり。影複数段階OK
- **体型**: 実際の動物に近いプロポーション（デフォルメ不要）

---

### やってはいけないこと ❌

- ダーク・グロテスク・ホラー寄りの雰囲気
- 洋風ファンタジー的な装備デザイン
- キャラによってフレームサイズがバラバラ（**80×80px 統一**）
- 輪郭線なし・線が極端に細い

---

## 基本仕様

| 項目 | 仕様 |
|------|------|
| **キャンバスサイズ** | **80 × 80 px**（全アセット共通）|
| **有効描画エリア** | 上部・中央寄り **48 × 48 px** 以内 |
| **右下の禁止エリア** | 右下 **20 × 20 px** は空白にすること |
| フォーマット | **PNG**（透過背景必須）|
| 納品形式 | スプライトシート（全フレームを1枚に横並び）|

### ⚠️ ウォーターマーク対策（必須）

制作ツールのウォーターマークが右下に入るため、キャラ・タイルとも以下の配置を守ること：

```
┌──────────────────────────────┐
│         80 × 80 px           │
│  ┌──────────────────┐        │
│  │                  │        │
│  │   有効描画エリア   │        │
│  │   48 × 48 px     │        │
│  │   （中央〜上寄り） │        │
│  └──────────────────┘        │
│                               │
│                    ┌────────┐ │
│                    │ WM禁止 │ │ ← 右下20×20px は空白
│                    └────────┘ │
└──────────────────────────────┘
```

- ゲームエンジン側では **80px フレームを読み込み**、描画時に中央48pxを使用

---

## キャラクター一覧

> 🔄 = 全て再制作対象（旧48pxサイズは使用不可）

---

### 1. サムライ猫（Samurai / プレイヤー）🔄 再制作

出典: オリジナルキャラクター
特徴: 三毛猫・緑の麻の葉柄着物・茶袴・赤鞘の刀

| アニメーション | フレーム数 | 方向数 | 内容 |
|-------------|-----------|--------|------|
| `idle` | 4f | 4方向 | 待機・呼吸モーション |
| `walk` | 6f | 4方向 | 歩き移動 |
| `attack` | 6f | 4方向 | 刀で斬る |
| `rest` | 4f | 左右 | 座って休憩・回復 |
| `rescue` | 6f | 左右 | 捕虜を解放する |
| `damaged` | 3f | 左右 | ダメージでのけぞる |
| `victory` | 8f | 1方向 | 勝利ポーズ・ガッツポーズ |
| `death` | 4f | 左右 | 0HPで倒れる |

**シート数: idle/walk/attack × 4方向 + rest/rescue/damaged/death × 2方向 + victory × 1 = 21シート**

---

### 2. ガマ（Sludge / 基本近接敵）🔄 再制作

出典: 自来也伝説
特徴: ずんぐりした大蝦蟇・のっそり動く・紫の毒液を吐く
スタイル: **敵キャラの画風基準**（黒輪郭・テクスチャ塗り・リアル寄り体型）

| アニメーション | フレーム数 | 方向数 | 内容 |
|-------------|-----------|--------|------|
| `idle` | 3f | 左右 | じっとしている |
| `attack` | 4f | 左右 | 紫の毒液を吐く |
| `damaged` | 2f | 左右 | ひるむ（※マーク）|
| `death` | 5f | 左右 | ひっくり返って倒れる |

**シート数: 4状態 × 2方向 = 8シート**

---

### 3. 大蛇（ThickSludge / 強化近接敵）✅ 制作済み

出典: 八岐大蛇など各地の民話 × **Python（パイソン＝ニシキヘビ）のダブルミーニング**
特徴: ボールパイソン（ロイヤルパイソン）風のかわいらしい蛇。丸っこくずんぐりした体型。
ダークブラウン×タンの典型的なボールパイソン模様。大きな丸い目。
Python学習ゲームにちなんだシャレの効いた敵キャラ。
スタイル: ガマ準拠（黒輪郭・テクスチャ塗り）だが、かわいさ寄り — 怖くない

| アニメーション | フレーム数 | 方向数 | 内容 |
|-------------|-----------|--------|------|
| `idle` | 3f | 左右 | 鎌首をもたげてゆらゆら |
| `attack` | 4f | 左右 | 噛みつき |
| `damaged` | 2f | 左右 | ひるむ |
| `death` | 4f | 左右 | ぐにゃりと倒れる |

**シート数: 4状態 × 2方向 = 8シート**

---

### 4. サル（Archer / 遠距離攻撃敵）⏸️ 採用見送り

> 2026-02 時点の生成結果は品質要件を満たせず、`public/assets` への登録対象から除外。
> Archer は既存のタイル表示（絵文字）運用を継続する。

---

### 5. タヌキ（Wizard / 魔法使い敵）⏸️ 採用見送り

> 2026-02 時点の生成結果は品質要件を満たせず、`public/assets` への登録対象から除外。
> Wizard は既存のタイル表示（絵文字）運用を継続する。

---

### 6. ツル（Captive / 救出対象）✅ 制作済み

出典: 鶴の恩返し
特徴: 罠に捕まっている鶴・助けると羽ばたいて喜ぶ
スタイル: 敵より可愛め・白くて清楚なイメージ

| アニメーション | フレーム数 | 方向数 | 内容 |
|-------------|-----------|--------|------|
| `bound` | 3f | 1方向 | 縛られてうずくまる |
| `rescued` | 6f | 1方向 | 解放されて羽ばたく・喜ぶ |

**シート数: 2状態 × 1方向 = 2シート**

---

### 7. クマ（Golem / 味方・操作可能）⏸️ スコープ外

> **スコープ外**: 原作の Beginner/Intermediate どちらのタワーにも `form!` 能力（Golem生成）が
> レベルデータに含まれていないため、現時点では制作対象外。

出典: 金太郎
特徴: 金太郎と相撲で仲良くなった熊・プレイヤーが操作できる頼もしい味方
スタイル: 敵より親しみやすく、どっしりした体格。表情は穏やか

| アニメーション | フレーム数 | 方向数 | 内容 |
|-------------|-----------|--------|------|
| `idle` | 3f | 左右 | ゆったり立つ |
| `walk` | 6f | 左右 | どすどす歩く |
| `attack` | 4f | 左右 | 力強いパンチ・熊手 |
| `damaged` | 2f | 左右 | うなりながらひるむ |
| `death` | 4f | 左右 | ゆっくり倒れる |

**シート数: 5状態 × 2方向 = 10シート**

---

## タイルセット 🔄 再制作（洞窟テーマ）

場所: `public/assets/tiles/`

### ⚠️ タイル専用の仕様（キャラクターとは異なる）

タイルは隙間なく敷き詰めて使用するため、キャラクターとは仕様が異なる。

| 項目 | キャラクター | タイル |
|------|-------------|--------|
| キャンバスサイズ | 80 × 80 px | **320 × 320 px** |
| 有効描画エリア | 中央48×48px | **全面（320×320フル描画）** |
| WM対策 | 右下20×20空白 | **なし（全面塗りつぶし必須）** |
| 背景 | 透過必須 | **透過不要（全面塗り）** |
| 納品形式 | スプライトシート | **1枚絵（単体PNG）** |

> **重要**: タイルは右下を含む全面に描画すること。空白領域があるとタイル接合部に隙間が生じる。

---

### タイル一覧（洞窟テーマ・4種）

| # | ファイル名 | 用途 | 説明 |
|---|-----------|------|------|
| 1 | `cave-floor.png` | 床（通行可能エリア） | 暗めの岩肌の地面。自然な凹凸テクスチャ。並べたときにパターンが不自然に繰り返さないこと |
| 2 | `cave-wall.png` | 壁（側面あり） | 3/4ビュー壁タイル。**上半分 = 壁の上面、下半分 = 壁の側面**（詳細は後述） |
| 3 | `cave-wall-top.png` | 壁（上面のみ） | 壁の上面のみ。上下に壁が続く箇所・縦壁で使用（詳細は後述） |
| 4 | `cave-stairs.png` | 下り階段 | **メタ記号としての下り階段**。床に開いた暗い開口部から数段のステップが闇に消えていくデザイン。真上視点・方向性なし。周囲は cave-floor と同じ岩肌 |

**合計: 4枚**

---

### 壁タイルの立体視（3/4ビュー）— 最重要

本ゲームはトップダウン斜め視点（3/4ビュー）で描画される。
壁タイルは「上から少し斜めに見下ろしている」視点で、上面と側面を1枚のタイルで表現する。

#### cave-wall.png（側面あり壁）

床と接する壁の行で使用。下に床が見えるため、壁の正面（側面）が見える。

```
┌────────────────────────┐
│ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │
│ ▓▓  壁の上面（天面） ▓▓ │  ← 上半分: 上から見下ろした岩の天面
│ ▓▓  暗い岩のテクスチャ ▓▓ │     cave-wall-top.png と連続するデザイン
│ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │
│════════════════════════│  ← 壁の縁（エッジライン）
│ ░░░░░░░░░░░░░░░░░░░░░ │
│ ░░  壁の側面（正面）  ░░ │  ← 下半分: 正面から見た岩肌
│ ░░  明るめの岩テクスチャ ░░ │     ひび割れ・苔などのディテール
│ ░░░░░░░░░░░░░░░░░░░░░ │
└────────────────────────┘
```

#### cave-wall-top.png（上面のみ壁）

壁が上下に続く箇所、および縦壁（`|`）で使用。下に壁が続くため側面は見えない。

```
┌────────────────────────┐
│ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │
│ ▓▓                  ▓▓ │
│ ▓▓  壁の上面（天面） ▓▓ │  ← 全面が壁の天面
│ ▓▓  暗い岩のテクスチャ ▓▓ │     cave-wall.png の上半分と
│ ▓▓                  ▓▓ │     シームレスに繋がること
│ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │
└────────────────────────┘
```

#### 使い分け図解

```
実際のゲームボード表示例:

  [void][void  ][void  ][void  ][void  ][void]   ← CSS暗色背景
  [void][wall  ][wall  ][wall  ][wall  ][void]   ← 横壁「-」→ cave-wall.png
  [w-top][floor][floor ][floor ][stairs][w-top]  ← 縦壁「|」→ cave-wall-top.png
  [void][wall  ][wall  ][wall  ][wall  ][void]   ← 横壁「-」→ cave-wall.png
  [void][void  ][void  ][void  ][void  ][void]   ← CSS暗色背景

  ※ void = プレイエリア外。画像タイル不要（CSS暗色背景で表現）
  ※ 横壁の上にvoidが続く場合でもcave-wall.pngを使用（側面が見える位置のため）
```

### 色調・雰囲気ガイド

- **全体の色調**: ダークグレー〜ダークブラウン。薄暗い洞窟の雰囲気
- **床**: 暗めの岩肌。微かに湿っている質感
- **壁の上面**: 床よりさらに暗い色調
- **壁の側面**: 上面より少し明るめ（光が当たる面）。岩のひび割れや苔のディテール
- **階段**: 床と同系色。段差の影で立体感を表現
- **禁止**: 明るすぎる色、ファンタジー的な発光、人工的な石積みパターン

---

## エフェクト 🔄 未制作

場所: `public/assets/effects/`
サイズ: **80 × 80 px**（ウォーターマーク対策は同様）

| ファイル名 | フレーム数 | 内容 |
|-----------|-----------|------|
| `slash.png` | 5f | 斬撃エフェクト（刀の軌跡）|
| `heal.png` | 5f | 回復の光（キラキラ）|
| `explosion.png` | 6f | 爆発（detonateアビリティ用）|
| `level-clear.png` | 8f | レベルクリア演出（花吹雪など）|

**合計: 4種**

---

## UIアセット 🔄 未制作

場所: `public/assets/ui/`

| ファイル名 | サイズ | 内容 |
|-----------|--------|------|
| `hp-bar-bg.png` | 48 × 6 px | HPバー背景 |
| `hp-bar-fg.png` | 48 × 6 px | HPバー前景（緑→黄→赤）|
| `damage-numbers.png` | 数字0-9 各16px | ダメージポップアップ用 |

---

## 納品ファイル構成

```
public/assets/
├── sprites/
│   ├── samurai-cat/
│   │   ├── idle-north.png      # 4f横並び 80×320px
│   │   ├── idle-east.png
│   │   ├── idle-south.png
│   │   ├── idle-west.png
│   │   ├── walk-north.png      # 6f横並び 80×480px
│   │   ├── walk-east.png
│   │   ├── walk-south.png
│   │   ├── walk-west.png
│   │   ├── attack-north.png
│   │   ├── attack-east.png
│   │   ├── attack-south.png
│   │   ├── attack-west.png
│   │   ├── rest-left.png
│   │   ├── rest-right.png
│   │   ├── rescue-left.png
│   │   ├── rescue-right.png
│   │   ├── damaged-left.png
│   │   ├── damaged-right.png
│   │   ├── victory.png
│   │   ├── death-left.png
│   │   └── death-right.png
│   ├── gama/
│   │   ├── idle-left.png       # 3f横並び 80×240px
│   │   ├── idle-right.png
│   │   ├── attack-left.png
│   │   ├── attack-right.png
│   │   ├── damaged-left.png
│   │   ├── damaged-right.png
│   │   ├── death-left.png
│   │   └── death-right.png
│   ├── orochi/                 # 大蛇（同上構成）
│   ├── tsuru/
│   │   ├── bound.png
│   │   └── rescued.png
│   └── kuma/                   # クマ（同上構成）
├── tiles/                     # 320×320px フル描画（WM対策なし）
│   ├── cave-floor.png
│   ├── cave-wall.png
│   ├── cave-wall-top.png
│   └── cave-stairs.png
├── effects/
│   ├── slash.png
│   ├── heal.png
│   ├── explosion.png
│   └── level-clear.png
└── ui/
    ├── hp-bar-bg.png
    ├── hp-bar-fg.png
    └── damage-numbers.png
```

---

## 優先順位

| 優先度 | アセット | 理由 |
|--------|---------|------|
| ★★★ 最優先 | サムライ猫: idle・walk・attack（4方向）| Phase 4動作確認の核 |
| ★★★ 最優先 | タイルセット: 洞窟4枚 | マップ描画に必須 |
| ★★★ 最優先 | ガマ: 全4状態 | Beginner最序盤の敵 |
| ★★☆ 推奨 | サムライ猫: rest・damaged・death | 戦闘演出に必要 |
| ★★☆ 推奨 | 大蛇・サル・タヌキ: 全4状態 | 中盤以降の敵 |
| ★★☆ 推奨 | エフェクト: slash・heal | 攻撃・回復演出 |
| ★☆☆ 後回し可 | サムライ猫: rescue・victory | 救出・クリア演出 |
| ★☆☆ 後回し可 | ツル・クマ | 中〜後半レベルで使用 |
| ★☆☆ 後回し可 | UIアセット・level-clear | 最終仕上げ |

---

## 総枚数まとめ

| カテゴリ | シート数 |
|--------|---------|
| サムライ猫 | 21シート |
| ガマ | 8シート |
| 大蛇 | 8シート |
| サル | 8シート + 投射物1 |
| タヌキ | 8シート + 投射物1 |
| ツル | 2シート |
| クマ | 10シート |
| タイルセット | 4枚 |
| エフェクト | 4枚 |
| UI | 3枚 |
| **合計** | **約 78枚** |
