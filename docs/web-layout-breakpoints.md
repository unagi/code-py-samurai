# Web Layout Breakpoints (Board-First Design)

ゲーム画面のレスポンシブ設計について、現在の方針と実装済みしきい値を整理したデザインメモです。

## 方針（要点）

- 端末カテゴリ起点ではなく、**盤面の成立条件起点**でブレークポイントを設計する
- 主役は `ゲーム盤面` と `エディタ`
- 補助情報（API / メソッド・プロパティ）は、広い画面でのみ拡張表示する
- スマートフォン縦は原則サポート対象外（非保証）

## 盤面基準（設計前提）

- タイル基準サイズ: `80px`
- タイル間ギャップ: `2px`
- 13列の正規表示（最大横方向）: `1064px`
  - `13 * 80 + 12 * 2 = 1064`
- 11列の緊急表示（旧議論上の成立ライン）: `900px`
  - `11 * 80 + 10 * 2 = 900`

※ 実装では、盤面コンテナ `#board` の実幅（`clientWidth`）を見て表示モードを切り替える。

## 現在のブレークポイント（ゲーム本編）

### 1. 盤面表示モード切替（JSロジック）

- しきい値: `1080px`（`#board.clientWidth`）
- `1080px` 未満:
  - `floor-only` 表示（壁 + void を省略）
- `1080px` 以上:
  - 通常表示（full）

備考:
- これは CSS `@media` ではなく、盤面表示ロジック側のしきい値
- 13マスの理論値 `1064px` に少し余裕を持たせた設計値

### 2. CSS レイアウト（ゲーム本編）

#### `@media (min-width: 1536px)`

- 広幅拡張帯（ノートPC〜デスクトップ向け）
- `.layout` を拡張
- API（メソッド/プロパティ）を右レールへ配置
- `workspace` を 2カラム化

#### `@media (min-width: 1080px) and (max-width: 1535px)`

- 標準帯（13マス正規表示 + エディタ重視）
- `workspace` を 2カラム化
- 盤面は上段で全幅を使用
- API（メソッド/プロパティ）は下段で **エディタ右** に配置
- API幅は `1536px+` と同じサイド幅トークンを使用（固定 `320px`）

#### `@media (max-width: 1079px)`

- 緊急幅調整帯（`1080px` 未満）
- タイトル縮小
- 歯車アイコン縮小
- `bottom-columns` を 1カラム化（エディタ優先）
- 盤面ステータスの折り返し許可

#### `@media (max-width: 899px)`

- 最小幅寄りのレイアウト再配置
- `.layout` を `100%` 幅ベースへ切替
- ヘッダー配置変更:
  - 上段 `タイトル + 歯車`
  - 下段 `ステージセレクト（100%幅）`
- `hero-line`（タイトル横ライン）を非表示
- ログ下の操作列を縦積みしやすく調整

## 現在のブレークポイント（RefDoc専用）

以下は `reference/python-api` 側のレイアウト用であり、ゲーム本編の骨格とは別系統。

- `@media (max-width: 980px)`
- `@media (max-width: 700px)`

## ヘッダー設計メモ（現行）

- ヘッダーは専用ブロック化済み（背景責務を `body` から分離）
- 焦げ茶の上部背景はヘッダーブロック側で管理
- ヘッダー高さは固定値ベタ書きではなく、行高・余白の積み上げを `calc()` で算出
- ヘッダー直下には専用の余白を持たせ、他要素の回り込みを防ぐ

## ステージセレクト設計メモ（現行）

- 横スクロール・タイムライン型（折り返しなし）
- ネイティブ横スクロールは維持しつつ、UIは左右ボタン操作を前面化
- スクロールバーは非表示（背景との一体感を優先）
- `900〜1079px` はステージセレクト右に歯車を維持
- `899px` 以下でのみ歯車をタイトル右へ移動

## 今後の拡張余地

- APIツリー（Structure風）の視覚調整（枝線・行高・インデント）
- `Direction` / `Space` / `Occupant` などの型ノードを `Samurai` と同様のツリーで追加
- 広幅帯（`1536px+`）の右レール密度・固定高さの調整
